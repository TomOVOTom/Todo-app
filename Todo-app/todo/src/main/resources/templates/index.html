<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>任务管理系统</title>
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@5.9.55/css/materialdesignicons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/components.css">
    <link rel="stylesheet" href="/css/theme.css">
    <link rel="stylesheet" href="/css/todo-item.css">
    <link rel="stylesheet" href="/css/image-upload.css">
    <script th:src="@{/js/lib/vue.js}"></script>
</head>
<body>
<div id="app" class="container">
    <div class="header">
        <h2 class="text-primary">✨ 任务管理 ✨</h2>
        <div class="controls">
            <div class="storage-switch" id="storageSwitch" title="切换存储模式">
                <i class="mdi mdi-cloud"></i>
            </div>
            <div class="theme-switch" id="themeSwitch">
                <i class="mdi mdi-weather-night"></i>
            </div>
        </div>
    </div>

    <div class="todo-input-group">
        <input type="text" id="newTodo" placeholder="添加新任务...">
        <div class="image-upload">
            <input type="file" id="todoImage" accept="image/*" class="hidden">
            <label for="todoImage" class="upload-btn" title="添加图片">
                <i class="mdi mdi-image-plus"></i>
            </label>
        </div>
        <div id="imagePreview" class="image-preview"></div>
    </div>

    <div class="todo-count">
        <div class="count-box">
            <div class="count-number" id="totalCount">0</div>
            <div>总任务</div>
        </div>
        <div class="count-box">
            <div class="count-number" id="completedCount">0</div>
            <div>已完成</div>
        </div>
        <div class="count-box">
            <div class="count-number" id="completionRate">0%</div>
            <div>完成率</div>
        </div>
    </div>

    <div class="progress-bar">
        <div class="progress-value" id="progressValue"></div>
    </div>

    <ul id="todoList"></ul>

    <div id="emptyState" class="empty-state">
        <i class="mdi mdi-format-list-checks"></i>
        <p>还没有任务，来添加一个吧！</p>
    </div>

    <p class="time" id="currentTime"></p>
</div>

<script type="module" src="/js/app.js"></script>
</body>
</html>